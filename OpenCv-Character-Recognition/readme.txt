This is originally created by MicrocontrollersAndMore. I just modified some parts of this code and add some functionality for my university project.

The video pretty much explains it all:
https://www.youtube.com/watch?v=fJcl6Gw1D8k
